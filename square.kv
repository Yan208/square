#:kivy 2.1.0


<Square>:
  #self_square: self_square
  size: 800, 800
  pos: 0, 0
  #p1_x: 30

  canvas.after:
    Color:
      rgba: 1,1,1,1

    # Рисуем квадрат
    Line:
      #           p1: 50, 200                       p2: 50, 600                                 p3: 650, 600
      points: [ (root.p1_x, root.p1_y), (root.p1_x, root.p1_y+root.square_side), (root.p1_x+root.square_side, root.p1_y+root.square_side) ]
      width: 1

    Line:
      #                p3: 650, 600                                            p4: 650, 200                            p5: 50, 200
      points: [ (root.p1_x+root.square_side, root.p1_y+root.square_side), (root.p1_x+root.square_side, root.p1_y), (root.p1_x, root.p1_y) ]
      width: 1

    Line:
      points: [root.p1_x, root.p1_y, root.p1_x+root.square_side, root.p1_y+root.square_side]
      width: 1
    Line:
      points: [root.p1_x, root.p1_y+root.square_side, root.p1_x+root.square_side, root.p1_y]
      width: 1
    
  Label:
    id: a_label
    pos: root.p1_x * 2.5 , root.p1_y / 1.5
    #font_size: 50
    text: 'a'
  
  Label:
    id: b_label
    pos: root.p1_x / 2, root.p1_y * 2
    text: 'b'
  
  Label:
    pos: a_label.pos[0], (root.p1_y + root.square_side) * 0.95
    text: 'c'
  
  Label:
    pos: root.p1_x * 4.6, b_label.pos[1]
    text: 'd'
    
  Label:
    id: e_label
    pos: root.p1_x * 1.5, root.square_side
    text: 'e'

  Label:
    pos: root.p1_x * 3.6, e_label.pos[1]
    text: 'f'
    
  Label:
    id: a_coord
    pos: root.p1_x, root.p1_y * 1.3 + root.square_side
    size: root.p1_y, root.p1_y / 4
    text: 'a_coord: ' + str(round(root.a_coord))
  
  Label:
    id: b_coord
    pos: a_coord.pos[0], root.p1_y * 1.1 + root.square_side
    size: a_coord.size[0], a_coord.size[1]
    text: 'b_coord: ' + str(round(root.b_coord))
  
  Label:
    pos: a_coord.pos[0] * 2, a_coord.pos[1]
    size: a_coord.size[0], a_coord.size[1]
    text: 'c_coord: ' + str(round(root.c_coord))
    
  Label:
    pos: a_coord.pos[0] * 2, b_coord.pos[1]
    size: a_coord.size[0], a_coord.size[1]
    text: 'd_coord: ' + str(round(root.d_coord))
    
  Label:
    pos: a_coord.pos[0] * 3, a_coord.pos[1]
    size: a_coord.size[0], a_coord.size[1]
    text: 'e_coord: ' + str(round(root.e_coord))
    
  Label:
    pos: a_coord.pos[0] * 3, b_coord.pos[1]
    size: a_coord.size[0], a_coord.size[1]
    text: 'f_coord: ' + str(round(root.f_coord))
    #Buttons:
      #text: 'idi na huy'
  
  Buttons:
    #size_hint: 1, 0.4
    # не работает это почему-то
    #pos: 300, 300
    #size: 200, 200
    #pos: 90, 90
    #pos_hint: { 'x': 0.5, 'y': 0.1 }
#    Label:
#      text: 'fucker'
  
  #Labels:


<Buttons>:
  #self_square: self_square

  #id: buttons
  pos: 0, 0
  size: 800, 800


  Button:
    id: up_but
    text: 'up'
    pos: root.width / 2 - self.size[0], self.size[1]
    size: root.width / 14, root.width / 14
    on_press: root.up()
    
  Button:
    id: down_but
    text: 'down'
    pos: up_but.pos[0], up_but.pos[1]-up_but.size[1]
    size: up_but.size[0], up_but.size[1]
    on_press: root.down()
  
  Button:
    text: 'left'
    pos: up_but.pos[0]-up_but.size[0], up_but.pos[1]-up_but.size[1]
    size: up_but.size[0], up_but.size[1]
    on_press: root.left()
    
  Button:
    text: 'right'
    pos: up_but.pos[0]+up_but.size[0], up_but.pos[1]-up_but.size[1]
    size: up_but.size[0], up_but.size[1]
    on_press: root.right()
    
